<script>
$(function(){
	wx.config({
	    debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
	    appId: "{$sharedata.appid}", // 必填，公众号的唯一标识
	    timestamp: "{$sharedata.timestamp}", // 必填，生成签名的时间戳
	    nonceStr: "{$sharedata.nonceStr}", // 必填，生成签名的随机串
	    signature: "{$sharedata.signature}",// 必填，签名，见附录1
	    jsApiList: [
		    'onMenuShareAppMessage',
		    'onMenuShareTimeline',
		    'onMenuShareQQ'
	    ]
	});
	wx.ready(function(){
		wx.onMenuShareAppMessage({
		    title: "{$sharedata.title}", // 分享标题
		    desc: "{$sharedata.desc}", // 分享描述
		    link: "{$sharedata.thisurl}", // 分享链接
		    imgUrl: "{$sharedata.img}", // 分享图标
		    type: '', // 分享类型,music、video或link，不填默认为link
		    dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
		    success: function () {
		        layer.open({
				    content: '分享成功',
				    skin: 'msg',
				    time: 2    //2秒后自动关闭
				});
		        return false;
		    },
		    cancel: function () { 
		        layer.open({
				    content: '分享失败',
				    skin: 'msg',
				    time: 2    //2秒后自动关闭
				});
		        return false;
		    }
		});
		wx.onMenuShareTimeline({
		    title: "{$sharedata.title}", // 分享标题
		    desc: "{$sharedata.desc}", // 分享描述
		    link: "{$sharedata.thisurl}", // 分享链接
		    imgUrl: "{$sharedata.img}", // 分享图标
		    success: function () { 
		        layer.open({
				    content: '分享成功',
				    skin: 'msg',
				    time: 2    //2秒后自动关闭
				});
		        return false;
		    },
		    cancel: function () {
		        layer.open({
				    content: '分享失败',
				    skin: 'msg',
				    time: 2    //2秒后自动关闭
				});
		        return false;
		    }
		});
	});
})
</script>